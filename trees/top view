/*
class Node {
    int data;
    Node left, right;

    Node(int val) {
        this.data = val;
        this.left = null;
        this.right = null;
    }
}
*/
class pair
 {
    Node node;int d;
    pair(Node node,int d)
    {
        this.node=node;
        this.d=d;
    }
 }
class Solution {
    public ArrayList<Integer> topView(Node root) {
        // code here
        ArrayList<Integer> list= new ArrayList<>();
        if(root==null) return list;
        Queue<pair> que= new LinkedList<>();
        TreeMap<Integer,Integer> map= new TreeMap<>();
        que.offer(new pair(root,0));
        while(!que.isEmpty())
        {
            
            pair del=que.poll();
            Node node=del.node;
            int d=del.d;
            if(!map.containsKey(d))
            map.put(d,node.data);
            
            if(node.left!=null)
            que.offer(new pair(node.left,d-1));
            if(node.right!=null)
            que.offer(new pair(node.right,d+1));
            
        }
          for(int num:map.values())
            {
                list.add(num);
            }  
            
    
        return list;
    }
}
